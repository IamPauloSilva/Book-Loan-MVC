@using BookLoanApp.Dto.User
@using BookLoanApp.Enums
@model UserEditDto


@if (TempData["MensagemSucesso"] != null)
{
    <div class="alert alert-success text-dark" role="alert">
        @TempData["MensagemSucesso"]
    </div>
}

@if (TempData["MensagemErro"] != null)
{
    <div class="alert alert-danger text-dark" role="alert">
        @TempData["MensagemErro"]
    </div>
}



<div class="container mt-5">
    <form method="post" asp-action="Edit" asp-controller="User">

        @if (ViewBag.Role != ProfilesEnum.Client)
        {
            <h2>Edit Employee - @Model.UserName</h2>
        }
        else
        {
            <h2>Edit Client - @Model.UserName</h2>
        }

        <div class="mb-1">
            <label>Full Name:</label>
            <input type="text" asp-for="FullName" class="form-control shadow-none" />
            <span class="text-danger" asp-validation-for="FullName"></span>
        </div>

        <div class="mb-1">
            <label>User Name:</label>
            <input type="text" asp-for="UserName" class="form-control shadow-none" />
            <span class="text-danger" asp-validation-for="UserName"></span>
        </div>


        <div class="mb-1">
            <label>E-mail:</label>
            <input type="email" asp-for="Email" class="form-control shadow-none" />
            <span class="text-danger" asp-validation-for="Email"></span>
        </div>


        @if (ViewBag.Role != ProfilesEnum.Client)
        {
            <div class="mb-1">
                <label>Profile:</label>
                <select asp-for="Profile" class="form-control shadow-none">
                    <option value="Admin" selected>Admin</option>
                </select>
                <span class="text-danger" asp-validation-for="Profile"></span>
            </div>

            <div class="mb-1">
                <label>Shift:</label>
                <select asp-for="Turno" class="form-control shadow-none">
                    <option value="Morning" selected>Morning</option>
                    <option value="Afternoon">Afternoon</option>
                    <option value="Night">Night</option>
                </select>
                <span class="text-danger" asp-validation-for="Turno"></span>
            </div>
        }

        <div class="col-12 d-flex gap-1 w-100">

            <div class="mb-1 col-6">
                <label>Zipcode:</label>
                <input type="text" asp-for="Adress.Zipcode" class="form-control shadow-none" id="input-zipcode" />
                <span class="text-danger" asp-validation-for="Adress.Zipcode"></span>
            </div>


            <div class="mb-1 col-6">
                <label>State:</label>
                <input type="text" asp-for="Adress.State" class="form-control shadow-none" id="input-state" />
                <span class="text-danger" asp-validation-for="Adress.State"></span>
            </div>
        </div>

        <div class="col-12 d-flex gap-1 w-100">

            <div class="mb-1 col-8">
                <label>Rua:</label>
                <input type="text" asp-for="Adress.StreetAdress" class="form-control shadow-none" id="input-streetadress" />
                <span class="text-danger" asp-validation-for="Adress.StreetAdress"></span>
            </div>


            <div class="mb-1 col-4">
                <label>Door number:</label>
                <input type="text" asp-for="Adress.DoorNumber" class="form-control shadow-none" />
                <span class="text-danger" asp-validation-for="Adress.DoorNumber"></span>
            </div>
        </div>


        <div class="col-12 d-flex gap-1 w-100">

            <div class="mb-1 col-6">
                <label>City:</label>
                <input type="text" asp-for="Adress.City" class="form-control shadow-none" id="input-city" />
                <span class="text-danger" asp-validation-for="Adress.City"></span>
            </div>


            <div class="mb-1 col-6">
                <label>Country:</label>
                <input type="text" asp-for="Adress.Country" class="form-control shadow-none" id="input-country" />
                <span class="text-danger" asp-validation-for="Adress.Country"></span>
            </div>
        </div>


        <div class="d-flex mt-3">
            <button type="submit" class="btn btn-success w-50 mx-1"><i class="bi bi-plus-circle"></i>Edit!</button>


            @if (ViewBag.Role == ProfilesEnum.Client)
            {
                <a class="btn btn-info w-50" asp-controller="Client" asp-action="Index" asp-route-id="0"><i class="bi bi-arrow-left-circle"></i>Back</a>
            }
            else
            {
                <a class="btn btn-info w-50" asp-controller="Employee" asp-action="Index" asp-route-id="0"><i class="bi bi-arrow-left-circle"></i>Back</a>
            }

        </div>
    </form>
</div>
